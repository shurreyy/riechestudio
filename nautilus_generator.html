<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nautilus Shell Generator | RIECHE</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* The Seasons Font */
        @font-face {
            font-family: 'The Seasons';
            src: url('/public/assets/fonts/theseasons-reg.57d3e9b5285fa8dfd595ef780.57981c5d6c03cd30856912da5d26c788-webfont.woff2') format('woff2'),
                 url('/public/assets/fonts/theseasons-reg.57d3e9b5285fa8dfd595ef780.57981c5d6c03cd30856912da5d26c788-webfont.woff') format('woff'),
                 url('/public/assets/fonts/theseasons-reg.57d3e9b5285fa8dfd595ef780.57981c5d6c03cd30856912da5d26c788.otf') format('opentype');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #D9DED8;
            font-family: 'Inter', sans-serif;
            color: #1a1a1a;
            min-height: 100vh;
        }

        /* Navigation */
        .navigation {
            width: 100%;
            height: 120px;
            background: #D9DED8;
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            flex-direction: column;
        }

        .logo-main {
            font-family: 'The Seasons', serif;
            font-size: 48px;
            font-weight: 400;
            line-height: 43px;
            color: black;
        }

        .logo-sub {
            font-family: 'The Seasons', serif;
            font-size: 28px;
            font-weight: 400;
            line-height: 25px;
            color: black;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 32px;
        }

        .nav-link {
            font-size: 16px;
            font-weight: 500;
            color: black;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .nav-link:hover {
            opacity: 0.7;
        }

        .contact-button {
            padding: 12px 20px;
            background: black;
            border-radius: 8px;
            color: white;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);
        }

        .contact-button:hover {
            background: #333;
            transform: translateY(-1px);
        }

        .container {
            display: flex;
            max-width: 1400px;
            margin: 140px auto 40px;
            padding: 40px 20px;
            gap: 40px;
        }

        .canvas-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .canvas-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .canvas-title {
            font-family: 'The Seasons', serif;
            font-size: 36px;
            font-weight: 400;
            color: #1a1a1a;
            margin-bottom: 8px;
        }

        .canvas-subtitle {
            font-size: 16px;
            color: #666;
            font-style: italic;
            margin-bottom: 16px;
        }

        .mathematical-note {
            font-size: 14px;
            color: #666;
            font-family: 'Courier New', monospace;
            background: rgba(255, 255, 255, 0.7);
            padding: 8px 16px;
            border-radius: 6px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .canvas-wrapper {
            background: white;
            border-radius: 12px;
            padding: 32px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #nautilusCanvas {
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            background: white;
        }

        .controls {
            width: 360px;
            background: white;
            border-radius: 12px;
            padding: 32px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            height: fit-content;
        }

        .control-group {
            margin-bottom: 32px;
        }

        .control-group:last-child {
            margin-bottom: 0;
        }

        .control-group h3 {
            color: #1a1a1a;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }

        .slider-container {
            margin-bottom: 20px;
        }

        .slider-container:last-child {
            margin-bottom: 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #374151;
            font-weight: 500;
        }

        .slider-value {
            float: right;
            font-size: 12px;
            color: #6b7280;
            font-family: 'Courier New', monospace;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #f3f4f6;
            outline: none;
            -webkit-appearance: none;
            border: 1px solid #e5e7eb;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
            border: 2px solid white;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
        }

        .preset-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .preset-btn {
            padding: 12px 16px;
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            color: #374151;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            text-align: center;
        }

        .preset-btn:hover {
            border-color: #8b5cf6;
            background: #f3f4f6;
        }

        .preset-btn:active {
            background: #8b5cf6;
            color: white;
            transform: translateY(1px);
        }

        .style-toggles {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .toggle-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toggle-label {
            font-size: 14px;
            color: #374151;
            font-weight: 500;
        }

        .toggle {
            width: 50px;
            height: 24px;
            background: #e5e7eb;
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .toggle.active {
            background: #8b5cf6;
        }

        .toggle::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.2s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .toggle.active::after {
            transform: translateX(26px);
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .action-btn {
            flex: 1;
            padding: 14px 20px;
            background: #8b5cf6;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            font-family: 'Inter', sans-serif;
        }

        .action-btn:hover {
            background: #7c3aed;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }

        .action-btn:active {
            transform: translateY(0);
        }

        .action-btn.secondary {
            background: #f3f4f6;
            color: #374151;
            border: 2px solid #e5e7eb;
        }

        .action-btn.secondary:hover {
            background: #e5e7eb;
            border-color: #d1d5db;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
                gap: 32px;
            }

            .controls {
                width: 100%;
                order: 2;
            }

            .canvas-container {
                order: 1;
            }
        }

        @media (max-width: 768px) {
            .navigation {
                padding: 0 20px;
                height: 100px;
            }

            .nav-links {
                gap: 20px;
            }

            .nav-link {
                font-size: 14px;
            }

            .logo-main {
                font-size: 36px;
                line-height: 32px;
            }

            .logo-sub {
                font-size: 20px;
                line-height: 18px;
            }

            .container {
                margin-top: 120px;
                padding: 20px;
            }

            .canvas-title {
                font-size: 28px;
            }

            .canvas-wrapper {
                padding: 20px;
            }

            #nautilusCanvas {
                width: 100%;
                max-width: 400px;
                height: auto;
            }

            .controls {
                padding: 24px;
            }

            .preset-buttons {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navigation">
        <div class="logo">
            <a href="index.html" style="text-decoration: none;">
                <div class="logo-main">RIECHE</div>
                <div class="logo-sub">Pilates Studio</div>
            </a>
        </div>
        <div class="nav-links">
            <a href="philosophy.html" class="nav-link">Rieche Philosophy</a>
            <a href="quiz.html" class="nav-link">Quiz</a>
            <a href="building-rieche.html" class="nav-link">Building RIECHE</a>
            <a href="the-room.html" class="nav-link">The Room</a>
            <a href="#contact" class="contact-button">Contact us</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="canvas-container">
            <div class="canvas-header">
                <h1 class="canvas-title">Nautilus Shell Generator</h1>
                <p class="canvas-subtitle">Mathematical beauty of the golden spiral</p>
                <div class="mathematical-note">r = a × e^(b×θ) | φ = 1.618...</div>
            </div>
            
            <div class="canvas-wrapper">
                <canvas id="nautilusCanvas" width="600" height="600"></canvas>
            </div>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <h3>Nautilus Species</h3>
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="applyPreset('classic')">Classic</button>
                    <button class="preset-btn" onclick="applyPreset('pompilius')">Pompilius</button>
                    <button class="preset-btn" onclick="applyPreset('macromphalus')">Macro</button>
                    <button class="preset-btn" onclick="applyPreset('belauensis')">Belau</button>
                </div>
            </div>

            <div class="control-group">
                <h3>Growth Parameters</h3>
                <div class="slider-container">
                    <label>Initial Radius (a) <span class="slider-value" id="aValue">1.0</span></label>
                    <input type="range" id="aSlider" min="0.5" max="3" step="0.1" value="1.0">
                </div>
                <div class="slider-container">
                    <label>Growth Rate (b) <span class="slider-value" id="bValue">0.15</span></label>
                    <input type="range" id="bSlider" min="0.05" max="0.3" step="0.01" value="0.15">
                </div>
                <div class="slider-container">
                    <label>Spiral Turns <span class="slider-value" id="turnsValue">8</span></label>
                    <input type="range" id="turnsSlider" min="3" max="15" step="1" value="8">
                </div>
                <div class="slider-container">
                    <label>Resolution <span class="slider-value" id="stepsValue">2000</span></label>
                    <input type="range" id="stepsSlider" min="500" max="5000" step="100" value="2000">
                </div>
            </div>

            <div class="control-group">
                <h3>Shell Features</h3>
                <div class="style-toggles">
                    <div class="toggle-container">
                        <span class="toggle-label">Chamber Lines</span>
                        <div class="toggle active" id="chambersToggle" onclick="toggleFeature('chambers')"></div>
                    </div>
                    <div class="toggle-container">
                        <span class="toggle-label">Growth Lines</span>
                        <div class="toggle active" id="growthToggle" onclick="toggleFeature('growth')"></div>
                    </div>
                    <div class="toggle-container">
                        <span class="toggle-label">Golden Ratio Grid</span>
                        <div class="toggle" id="gridToggle" onclick="toggleFeature('grid')"></div>
                    </div>
                    <div class="toggle-container">
                        <span class="toggle-label">Center Point</span>
                        <div class="toggle active" id="centerToggle" onclick="toggleFeature('center')"></div>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <h3>Parametric Shading</h3>
                <div class="slider-container">
                    <label>Line Weight <span class="slider-value" id="lineWidthValue">1.0</span></label>
                    <input type="range" id="lineWidthSlider" min="0.2" max="3" step="0.1" value="1.0">
                </div>
                <div class="slider-container">
                    <label>Overall Opacity <span class="slider-value" id="opacityValue">0.8</span></label>
                    <input type="range" id="opacitySlider" min="0.1" max="1" step="0.1" value="0.8">
                </div>
                <div class="slider-container">
                    <label>Chamber Count <span class="slider-value" id="chamberCountValue">30</span></label>
                    <input type="range" id="chamberCountSlider" min="10" max="50" step="2" value="30">
                </div>
                <div class="slider-container">
                    <label>Shadow Depth <span class="slider-value" id="depthValue">0.8</span></label>
                    <input type="range" id="depthSlider" min="0.1" max="1" step="0.1" value="0.8">
                </div>
                <div class="slider-container">
                    <label>Line Density <span class="slider-value" id="luminosityValue">0.7</span></label>
                    <input type="range" id="luminositySlider" min="0.2" max="1" step="0.1" value="0.7">
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="generateNautilus()">Generate</button>
                <button class="action-btn secondary" onclick="clearCanvas()">Clear</button>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('nautilusCanvas');
        const ctx = canvas.getContext('2d');
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;

        let animationId;
        let isDrawing = false;

        // Feature toggles
        let features = {
            chambers: true,
            growth: true,
            grid: false,
            center: true
        };

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (animationId) {
                cancelAnimationFrame(animationId);
                isDrawing = false;
            }
        }

        function updateSliderValue(sliderId, valueId) {
            const slider = document.getElementById(sliderId);
            const valueSpan = document.getElementById(valueId);
            valueSpan.textContent = slider.value;
        }

        function generateNautilus() {
            if (isDrawing) return;
            
            clearCanvas();
            isDrawing = true;

            const a = parseFloat(document.getElementById('aSlider').value);
            const b = parseFloat(document.getElementById('bSlider').value);
            const turns = parseInt(document.getElementById('turnsSlider').value);
            const steps = parseInt(document.getElementById('stepsSlider').value);
            const lineWidth = parseFloat(document.getElementById('lineWidthSlider').value);
            const opacity = parseFloat(document.getElementById('opacitySlider').value);
            const chamberCount = parseInt(document.getElementById('chamberCountSlider').value);
            const depth = parseFloat(document.getElementById('depthSlider').value);
            const luminosity = parseFloat(document.getElementById('luminositySlider').value);

            // Set canvas properties
            ctx.globalAlpha = opacity;
            ctx.strokeStyle = 'black';
            ctx.lineWidth = lineWidth * 0.3;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            // Draw golden ratio grid if enabled
            if (features.grid) {
                drawGoldenGrid();
            }

            // Draw main nautilus spiral outline
            drawNautilusSpiral(a, b, turns, steps);

            // Draw parametric line shading
            drawParametricShading(a, b, turns, depth, luminosity);

            // Draw chamber lines if enabled
            if (features.chambers) {
                drawChamberLines(a, b, turns, chamberCount, depth);
            }

            // Draw growth lines if enabled
            if (features.growth) {
                drawGrowthLines(a, b, turns, depth);
            }

            // Draw center point if enabled
            if (features.center) {
                drawCenterPoint();
            }

            isDrawing = false;
        }

        function drawNautilusSpiral(a, b, turns, steps) {
            // Draw main spiral outline
            ctx.strokeStyle = 'black';
            ctx.lineWidth = parseFloat(document.getElementById('lineWidthSlider').value);
            ctx.beginPath();

            let firstPoint = true;
            for (let i = 0; i <= steps; i++) {
                const theta = (i / steps) * turns * Math.PI * 2;
                const r = a * Math.exp(b * theta);
                const x = centerX + r * Math.cos(theta);
                const y = centerY + r * Math.sin(theta);

                if (firstPoint) {
                    ctx.moveTo(x, y);
                    firstPoint = false;
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
        }

        function drawParametricShading(a, b, turns, depth, luminosity) {
            const maxRadius = a * Math.exp(b * turns * Math.PI * 2);
            const lightAngle = Math.PI / 4; // Light source angle
            
            // Create shading through parametric line density
            const shadingSteps = 80; // Number of shading rings
            const baseLineWidth = parseFloat(document.getElementById('lineWidthSlider').value) * 0.2;
            
            for (let ring = 0; ring < shadingSteps; ring++) {
                const ringProgress = ring / shadingSteps;
                const ringTheta = ringProgress * turns * Math.PI * 2;
                const ringR = a * Math.exp(b * ringTheta);
                
                if (ringR > maxRadius * 0.95) continue;
                
                // Calculate lighting for this ring
                const lightDirection = ringTheta - lightAngle;
                const lightIntensity = (Math.sin(lightDirection) * 0.5 + 0.5) * depth;
                
                // Calculate line density based on lighting
                const baseDensity = 8;
                const density = Math.floor(baseDensity * (1 - lightIntensity * luminosity));
                
                if (density <= 0) continue;
                
                // Draw parametric lines for this ring
                for (let line = 0; line < density; line++) {
                    const lineOffset = (line / density) * Math.PI * 2;
                    
                    ctx.strokeStyle = `rgba(0, 0, 0, ${0.15 + lightIntensity * 0.4})`;
                    ctx.lineWidth = baseLineWidth;
                    ctx.beginPath();
                    
                    // Draw radial line from center
                    const startR = ringR * 0.7;
                    const endR = ringR * 1.3;
                    const angle = ringTheta + lineOffset;
                    
                    const startX = centerX + startR * Math.cos(angle);
                    const startY = centerY + startR * Math.sin(angle);
                    const endX = centerX + endR * Math.cos(angle);
                    const endY = centerY + endR * Math.sin(angle);
                    
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(endX, endY);
                    ctx.stroke();
                }
                
                // Add cross-hatching for deeper shadows
                if (lightIntensity > 0.6) {
                    const crossDensity = Math.floor(density * 0.7);
                    for (let line = 0; line < crossDensity; line++) {
                        const lineOffset = (line / crossDensity) * Math.PI * 2;
                        
                        ctx.strokeStyle = `rgba(0, 0, 0, ${0.1 + lightIntensity * 0.3})`;
                        ctx.lineWidth = baseLineWidth * 0.7;
                        ctx.beginPath();
                        
                        // Draw perpendicular cross-hatch
                        const startR = ringR * 0.8;
                        const endR = ringR * 1.2;
                        const angle = ringTheta + lineOffset + Math.PI / 2;
                        
                        const startX = centerX + startR * Math.cos(angle);
                        const startY = centerY + startR * Math.sin(angle);
                        const endX = centerX + endR * Math.cos(angle);
                        const endY = centerY + endR * Math.sin(angle);
                        
                        ctx.moveTo(startX, startY);
                        ctx.lineTo(endX, endY);
                        ctx.stroke();
                    }
                }
            }
            
            // Add spiral-following parametric lines
            const spiralLines = 60;
            for (let spiralLine = 0; spiralLine < spiralLines; spiralLine++) {
                const spiralOffset = (spiralLine / spiralLines) * Math.PI * 2;
                
                ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
                ctx.lineWidth = baseLineWidth * 0.8;
                ctx.beginPath();
                
                let firstPoint = true;
                const lineSteps = 200;
                
                for (let i = 0; i <= lineSteps; i++) {
                    const theta = (i / lineSteps) * turns * Math.PI * 2 + spiralOffset;
                    const r = a * Math.exp(b * theta) * (0.9 + 0.2 * Math.sin(spiralOffset * 3));
                    
                    if (r > maxRadius) continue;
                    
                    const x = centerX + r * Math.cos(theta);
                    const y = centerY + r * Math.sin(theta);
                    
                    if (firstPoint) {
                        ctx.moveTo(x, y);
                        firstPoint = false;
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
            }
        }

        function drawChamberLines(a, b, turns, chamberCount, depth) {
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.6)';
            ctx.lineWidth = parseFloat(document.getElementById('lineWidthSlider').value) * 0.8;
            
            for (let i = 0; i < chamberCount; i++) {
                const theta = (i / chamberCount) * turns * Math.PI * 2;
                const r = a * Math.exp(b * theta);
                
                const x = centerX + r * Math.cos(theta);
                const y = centerY + r * Math.sin(theta);
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
            }
        }

        function drawGrowthLines(a, b, turns, depth) {
            const baseLineWidth = parseFloat(document.getElementById('lineWidthSlider').value) * 0.3;
            
            // Draw concentric spiral growth lines
            for (let growth = 0.3; growth <= 1; growth += 0.15) {
                ctx.strokeStyle = `rgba(0, 0, 0, ${0.2 * depth})`;
                ctx.lineWidth = baseLineWidth;
                ctx.beginPath();
                
                let firstPoint = true;
                for (let i = 0; i <= 1000; i++) {
                    const theta = (i / 1000) * turns * Math.PI * 2;
                    const r = (a * growth) * Math.exp(b * theta);
                    const x = centerX + r * Math.cos(theta);
                    const y = centerY + r * Math.sin(theta);

                    if (firstPoint) {
                        ctx.moveTo(x, y);
                        firstPoint = false;
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
            }
        }

        function drawGoldenGrid() {
            const goldenRatio = 1.618033988749;
            const maxRadius = Math.min(centerX, centerY) * 0.8;
            
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.lineWidth = 0.5;

            // Draw golden ratio circles
            for (let i = 1; i <= 8; i++) {
                const radius = (maxRadius / Math.pow(goldenRatio, 8 - i));
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.stroke();
            }

            // Draw golden ratio lines
            for (let angle = 0; angle < Math.PI * 2; angle += Math.PI / 8) {
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(
                    centerX + maxRadius * Math.cos(angle),
                    centerY + maxRadius * Math.sin(angle)
                );
                ctx.stroke();
            }
        }

        function drawCenterPoint() {
            ctx.fillStyle = 'black';
            ctx.beginPath();
            ctx.arc(centerX, centerY, 2, 0, Math.PI * 2);
            ctx.fill();
        }

        function toggleFeature(featureName) {
            features[featureName] = !features[featureName];
            const toggle = document.getElementById(featureName + 'Toggle');
            
            if (features[featureName]) {
                toggle.classList.add('active');
            } else {
                toggle.classList.remove('active');
            }
            
            generateNautilus();
        }

        function applyPreset(preset) {
            const presets = {
                classic: { a: 1.0, b: 0.15, turns: 8 },
                pompilius: { a: 1.2, b: 0.18, turns: 6 },
                macromphalus: { a: 0.8, b: 0.12, turns: 10 },
                belauensis: { a: 1.5, b: 0.22, turns: 5 }
            };
            
            const config = presets[preset];
            document.getElementById('aSlider').value = config.a;
            document.getElementById('bSlider').value = config.b;
            document.getElementById('turnsSlider').value = config.turns;
            
            // Set optimal values for parametric shading
            document.getElementById('depthSlider').value = 0.8;
            document.getElementById('luminositySlider').value = 0.7;
            document.getElementById('lineWidthSlider').value = 1.0;
            
            updateAllSliderValues();
            generateNautilus();
        }

        function updateAllSliderValues() {
            updateSliderValue('aSlider', 'aValue');
            updateSliderValue('bSlider', 'bValue');
            updateSliderValue('turnsSlider', 'turnsValue');
            updateSliderValue('stepsSlider', 'stepsValue');
            updateSliderValue('lineWidthSlider', 'lineWidthValue');
            updateSliderValue('opacitySlider', 'opacityValue');
            updateSliderValue('chamberCountSlider', 'chamberCountValue');
            updateSliderValue('depthSlider', 'depthValue');
            updateSliderValue('luminositySlider', 'luminosityValue');
        }

        // Event listeners
        ['aSlider', 'bSlider', 'turnsSlider', 'stepsSlider', 'lineWidthSlider', 'opacitySlider', 'chamberCountSlider', 'depthSlider', 'luminositySlider'].forEach(id => {
            const slider = document.getElementById(id);
            const valueId = id.replace('Slider', 'Value');
            
            slider.addEventListener('input', () => {
                updateSliderValue(id, valueId);
                generateNautilus();
            });
        });

        // Initialize
        updateAllSliderValues();
        setTimeout(generateNautilus, 500);
    </script>
</body>
</html>